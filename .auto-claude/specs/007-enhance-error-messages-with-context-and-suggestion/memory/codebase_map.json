{
  "discovered_files": {
    "Weaver/pkg/shell/shell.go": {
      "description": "Added /validate and /metrics error helpers: createInvalidIterationsError(), createIterationsOutOfRangeError(), createInsufficientIterationsError(), createMetricsAnalysisError(). handleValidate() uses structured errors for iteration limits (1-20 range), hidden state agent requirements, and validation consistency checks. handleMetrics() reuses createConceptNotFoundError() and createInsufficientSamplesError() and adds createMetricsAnalysisError() for API status detection.",
      "category": "error_handling",
      "discovered_at": "2025-12-26T05:20:51.554621+00:00"
    },
    "Wool/agent.go": {
      "description": "Contains existing ValidationError type (lines 125-133) with Field and Message. This will be enhanced, not replaced.",
      "category": "error_handling",
      "discovered_at": "2025-12-26T04:25:43.657705+00:00"
    },
    "Weaver/pkg/errors/errors.go": {
      "description": "New structured error package with WeaverError type. Contains Code, Message, Context (map), Cause (wrapped error), and Suggestions fields. Categories: config, agent, backend, command, validation, network, io, internal. Builder pattern: WithContext(), WithCause(), WithSuggestion(). Utility functions: New(), Wrap(), AsWeaverError(), IsCategory(), IsCode().",
      "category": "architecture",
      "discovered_at": "2025-12-26T04:28:01.794329+00:00"
    },
    "Weaver/pkg/errors/display.go": {
      "description": "Error display formatting with color support. Format() renders WeaverErrors with structured output: red for error code, yellow for context, cyan for suggestions. IsTTY() detects terminal for auto color. Sprint() for no-color, Sprintc() for forced color. Display() writes to stderr.",
      "category": "error-handling",
      "discovered_at": "2025-12-26T04:30:15.840175+00:00"
    },
    "Weaver/pkg/errors/codes.go": {
      "description": "Error code constants organized by category. Contains 60+ codes like ErrConfigNotFound, ErrBackendUnavailable, ErrAgentNotFound, etc. Includes CodeCategory() lookup function and category helpers (IsConfigCode, IsBackendCode, etc.) for programmatic categorization. All codes follow UPPER_SNAKE_CASE format.",
      "category": "error-handling",
      "discovered_at": "2025-12-26T04:42:15.886282+00:00"
    },
    "Weaver/pkg/errors/suggestions.go": {
      "description": "Suggestion registry with context-aware remediation. Maps error codes to suggestions with conditional matching (OS, backend, etc). Built-in suggestions for all 60+ error codes. Key types: Suggestion (Text, Conditions, Priority), Registry with Get(code, ctx). Helper functions: AttachSuggestions(), GetSuggestions(), NewWithSuggestions().",
      "category": "error-handling",
      "discovered_at": "2025-12-26T04:48:05.208692+00:00"
    },
    "Weaver/pkg/errors/constructors.go": {
      "description": "Smart error constructors that auto-attach suggestions from the registry. Contains 32 basic constructors (8 categories \u00d7 4 variants: base, formatted, wrap, wrap-formatted), 8 context-aware constructors for conditional suggestions, and 17+ quick constructors for common error patterns like ConfigNotFound(), BackendNotInstalledError(), etc. All constructors call AttachSuggestions() to automatically add remediation guidance.",
      "category": "error_handling",
      "discovered_at": "2025-12-26T04:52:53.014997+00:00"
    },
    "Weaver/cmd/weaver/main.go": {
      "description": "Added createShellInitError() and createShellRunError() helper functions for structured shell error handling. These functions detect specific error types (permission issues, readline failures, TTY problems, EOF, etc.) and return WeaverErrors with context and actionable suggestions. Shell initialization and run errors now display with color-coded formatting via werrors.Display().",
      "category": "error_handling",
      "discovered_at": "2025-12-26T05:04:39.528910+00:00"
    },
    "Weaver/pkg/backend/claudecode.go": {
      "description": "Enhanced with structured WeaverErrors for Chat() and ChatStream() methods. Added error detection helpers: isNotInstalledError(), isAuthError(), isRateLimitError(), isAPIError(), isNetworkError(). Error types distinguished: BACKEND_NOT_INSTALLED (CLI missing), BACKEND_AUTH_FAILED (auth errors), BACKEND_API_ERROR (API/rate limit), BACKEND_TIMEOUT (deadline exceeded), BACKEND_CONNECTION_FAILED (network), BACKEND_STREAM_FAILED (streaming issues). All errors include context (backend, exit_code, details) and actionable suggestions.",
      "category": "error-handling",
      "discovered_at": "2025-12-26T05:24:34.747220+00:00"
    },
    "Weaver/pkg/backend/loom.go": {
      "description": "Enhanced with structured WeaverErrors for Chat() and ChatStream() methods. Added 7 error helper functions: createLoomMarshalError(), createLoomRequestError(), createLoomConnectionError(), createLoomReadError(), createLoomHTTPError(), createLoomUnmarshalError(). Added 6 error detection helpers: isLoomConnectionRefused(), isLoomTimeout(), isLoomDNSError(), isLoomGPUOOM(), isLoomModelNotFound(), isLoomCUDAError(). Error types distinguished: BACKEND_TIMEOUT (context deadline, connection timeout), BACKEND_CONNECTION_FAILED (refused, network issues), BACKEND_API_ERROR (GPU OOM, model not found, CUDA errors, 4xx/5xx), BACKEND_AUTH_FAILED (401/403), NETWORK_DNS_FAILED (hostname resolution), IO_MARSHAL_FAILED (request serialization), IO_UNMARSHAL_FAILED (response parsing), IO_READ_FAILED (response read). All errors include Loom-specific troubleshooting suggestions (server startup, health check commands, GPU memory tips).",
      "category": "error-handling",
      "discovered_at": "2025-12-26T05:27:32.884544+00:00"
    }
  },
  "last_updated": "2025-12-26T05:27:32.884552+00:00"
}